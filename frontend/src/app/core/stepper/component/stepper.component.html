<mat-stepper
  #stepper
  *transloco="let translate; prefix: 'stepper'"
  linear
  animationDuration="300"
  (selectionChange)="onStepChange($event)"
>
  <mat-step [completed]="disruptiveFormCompleted()">
    <ng-template matStepLabel>{{ translate('disruption-motives') }}</ng-template>
    <app-diruptive-form (receiveMessage)="receiveDisruptionDetails($event)" (next)="stepper.next()" />
  </mat-step>
  <mat-step [completed]="flightDetailsFormCompleted()">
    <ng-template matStepLabel>{{ translate('flight-details') }}</ng-template>
    <app-flight-details-wrap (receiveMessage)="receiveFlight($event)" (next)="stepper.next()" />
  </mat-step>
  <mat-step [completed]="passengerDetailsFormCompleted()">
    <ng-template matStepLabel>{{ translate('passenger-details') }}</ng-template>
    <app-passenger-details-form (receiveMessage)="receivdePassenger($event)" (next)="stepper.next()" (previous)="stepper.previous()" />
  </mat-step>
  <mat-step [completed]="documentsFormCompleted()">
    <ng-template matStepLabel>{{ translate('documents') }}</ng-template>
    <app-documents-form (receiveMessage)="receiveDocuments($event)" (next)="stepper.next()" (previous)="stepper.previous()" />
  </mat-step>
  <mat-step [completed]="userFormCompleted()">
    <ng-template matStepLabel>User Details</ng-template>
    <app-user-details (receiveMessage)="receiveUserDetails($event)" (next)="stepper.next()"></app-user-details>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>{{ translate('done') }}</ng-template>
    <app-confirmation-eligibility-form [buildUserDetails]="buildUserDetails.bind(this)"  [buildCaseFileFn]="buildCaseFile.bind(this)" />
    <button mat-raised-button (click)="stepper.previous()">{{ translate('back') }}</button>
    <button mat-raised-button (click)="stepper.reset()">{{ translate('reset') }}</button>
  </mat-step>
</mat-stepper>
