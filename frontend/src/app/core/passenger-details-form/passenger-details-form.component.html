<div class="passenger-details-form-container">
  <ng-container *transloco="let translate; prefix: 'passenger-details'">
    <mat-card class="passenger-details-form-card">
      <mat-card-header>
        <mat-card-title>{{ translate('title') }}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form [formGroup]="passengerDetailsForm">
          <div class="names">
            <mat-form-field appearance="fill" class="first">
              <mat-label>{{ translate('firstName') }}</mat-label>
              <input
                matInput
                formControlName="firstName"
                type="text"
                id="firstName"
                [placeholder]="translate('firstNamePlaceholder')"
              />
              @if (passengerDetailsForm.controls.firstName.errors?.['required']) {
                <mat-error>{{ translate('error.firstName.required') }}</mat-error>
              }
            </mat-form-field>

            <mat-form-field appearance="fill" class="last">
              <mat-label>{{ translate('lastName') }}</mat-label>
              <input
                matInput
                formControlName="lastName"
                type="text"
                id="lastName"
                [placeholder]="translate('lastNamePlaceholder')"
              />
              @if (passengerDetailsForm.controls.lastName.errors?.['required']) {
                <mat-error>{{ translate('error.lastName.required') }}</mat-error>
              }
            </mat-form-field>
          </div>

          <div class="data">
            <mat-form-field class="dob">
              <mat-label>{{ translate('dateOfBirth') }}</mat-label>
              <input
                matInput
                [matDatepicker]="picker"
                formControlName="dateOfBirth"
                id="dateOfBirth"
                [max]="currentDate"
                [placeholder]="translate('dateOfBirthPlaceholder')"
              />
              <mat-hint>DD/MM/YYYY</mat-hint>
              <mat-datepicker-toggle matIconSuffix [for]="picker" />
              <mat-datepicker #picker startView="multi-year" />
              @if (passengerDetailsForm.controls.dateOfBirth.errors?.['required']) {
                <mat-error>{{ translate('error.dateOfBirth.required') }}</mat-error>
              }
            </mat-form-field>

            <mat-form-field appearance="fill" class="phone">
              <mat-label>{{ translate('phoneNumber') }}</mat-label>
              <input
                matInput
                formControlName="phoneNumber"
                type="tel"
                id="phoneNumber"
                [placeholder]="translate('phoneNumberPlaceholder')"
              />
              @if (passengerDetailsForm.controls.phoneNumber.errors?.['required']) {
                <mat-error>{{ translate('error.phoneNumber.required') }}</mat-error>
              }
              @if (passengerDetailsForm.controls.phoneNumber.errors?.['pattern']) {
                <mat-error>{{ translate('error.phoneNumber.pattern') }}</mat-error>
              }
            </mat-form-field>
          </div>

          <div class="location">
            <mat-form-field class="adr">
              <mat-label>{{ translate('address') }}</mat-label>
              <input
                matInput
                formControlName="address"
                type="text"
                id="address"
                [placeholder]="translate('addressPlaceholder')"
              />
              @if (passengerDetailsForm.controls.address.errors?.['required']) {
                <mat-error>{{ translate('error.address.required') }}</mat-error>
              }
            </mat-form-field>

            <mat-form-field class="plz">
              <mat-label>{{ translate('postalCode') }}</mat-label>
              <input
                matInput
                formControlName="postalCode"
                type="text"
                id="postalCode"
                [placeholder]="translate('postalCodePlaceholder')"
              />
              @if (passengerDetailsForm.controls.postalCode.errors?.['required']) {
                <mat-error>{{ translate('error.postalCode.required') }}</mat-error>
              }
              @if (passengerDetailsForm.controls.postalCode.errors?.['pattern']) {
                <mat-error>{{ translate('error.postalCode.pattern') }}</mat-error>
              }
            </mat-form-field>
          </div>
        </form>
      </mat-card-content>
      <mat-card-actions *transloco="let translate; prefix: 'stepper'" class="form-actions">
        <button mat-flat-button (click)="back()">{{ translate('back') }}</button>
        <button mat-flat-button [disabled]="passengerDetailsForm.invalid" (click)="continue()">{{
          translate('next')
        }}</button>
      </mat-card-actions>
    </mat-card>
  </ng-container>
</div>
